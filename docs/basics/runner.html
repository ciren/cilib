<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-basics/runner">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Runner | CIlib</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cilib.net//docs/basics/runner"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Runner | CIlib"><meta data-rh="true" name="description" content="In this chapter we are going to create our own Genetic Algorithm."><meta data-rh="true" property="og:description" content="In this chapter we are going to create our own Genetic Algorithm."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cilib.net//docs/basics/runner"><link data-rh="true" rel="alternate" href="https://cilib.net//docs/basics/runner" hreflang="en"><link data-rh="true" rel="alternate" href="https://cilib.net//docs/basics/runner" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.3603c004.css">
<link rel="preload" href="/assets/js/runtime~main.1cd4c9a2.js" as="script">
<link rel="preload" href="/assets/js/main.7e0ab418.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CIlib</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction/getting-started">Docs</a><a href="https://github.com/ciren/cilib" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Runner and Our First Algorithm</h1><p>In this chapter we are going to create our own Genetic Algorithm.
There are a few things we are going to have to discuss first before we jump into the creating a GA.</p><p>CILib offers a data type that we may use to run our algorithms.
I say &quot;may&quot; because, if so choose, you create your own way of running the algorithms.
This data type is called <code>Runner</code>.
<code>Runner</code> isn&#x27;t a part of the cilib-core, but is included in this part of the book because it is needed to demonstrate everything we have learnt.
In order to include <code>Runner</code> to your project you need to add <code>cilib-exec</code> as a dependency in your <code>build.sbt</code>.</p><p>And since we are creating a GA we should also include <code>cilib-ga</code>.
The reason we are creating a GA rather than, let&#x27;s say,
a PSO is that the ga package uses types we have seen before where as a PSO uses types exclusive to the PSO package (W=we will explore these later).</p><p>Your library dependencies should look very similar to the following...</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">libraryDependencies ++= Seq(</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    &quot;net.cilib&quot; %% &quot;cilib-core&quot; % &quot;2.0.0+122-1ad0e611-SNAPSHOT&quot;,</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    &quot;net.cilib&quot; %% &quot;cilib-ga&quot; % &quot;2.0.0+122-1ad0e611-SNAPSHOT&quot;,</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    &quot;net.cilib&quot; %% &quot;cilib-exec&quot; % &quot;2.0.0+122-1ad0e611-SNAPSHOT&quot;</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you have refreshed your project we can start looking at what <code>Runner</code> is.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-runner">What is Runner?<a class="hash-link" href="#what-is-runner" title="Direct link to heading">​</a></h2><p><code>Runner</code> is an object within CILib that allows us to control the execution of our algorithm.
It provides us with methods that allow us to specify the:</p><ul><li>Number of iterations the algorithm should run for.</li><li>The algorithm.</li><li>The entities in the search space search space.</li></ul><p>Pretty cool, hey?
These are the discussed methods.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">repeat</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">n</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">Int</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> alg</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Kleisli</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> collection</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">repeatS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">n</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">Int</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> alg</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Kleisli</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> collection</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">F</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>&quot;Woah, that looks intimidating&quot;.
Sure, it definitely can appear that way so let&#x27;s try to clarify it a bit.
The difference between the algorithms is simply that the one is dealing with <code>Step</code> and the other <code>StepS</code>.
So you would choose which repeat method based on the type you used in your algorithm.
As for the parameters, <code>n: Int</code> is the number of iterations the algorithm should run for.
And <code>collection: RVar[F[B]]</code> are our <em>entities</em> in our search space.
Now the second parameter is something we haven&#x27;t come across yet.
All it is saying that we need an iteration type based on the algorithm.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iteration">Iteration<a class="hash-link" href="#iteration" title="Direct link to heading">​</a></h3><p><code>Iteration</code> is an object defined within <code>cilib-core</code> that will create an <em>iterator</em> of our algorithm.
An <em>iterator</em> simply means are we running our algorithm synchronously or Asynchronously.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">sync_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain">Applicative</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> A </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Kleisli</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">async_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Monad</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> A </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Kleisli</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">M</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>These methods are very <em>raw</em> and generic.
They are made public so that if you ever wanted to perhaps make your own iterator you could make use them if you desired so.
The following methods use the <em>raw</em> and generic methods to create something we are a bit more familiar with.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> sync</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> B </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> sync_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> syncS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> B </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> sync_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> async</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> B </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> async_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> asyncS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> B </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> async_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">StepS</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> B</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As we saw with runner we are given methods to handle both <code>Step</code> and <code>StepS</code> based algorithms.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h3><p>This may be a lot to take in.
If so don&#x27;t worry as we are now going to create a <code>GA</code> from start to finish!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-ga">Creating a GA<a class="hash-link" href="#creating-a-ga" title="Direct link to heading">​</a></h2><p>Isn&#x27;t this exciting!</p><p>All our work over the past chapters is coming together!</p><p>It should be noted that the only thing we will be using from
<code>cilib-ga</code> is the type <code>Individual</code>, which, as we discussed before, is
an <code>Enity</code> with a state of type <code>Unit</code> since GA&#x27;s do not need a state.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="imports">Imports<a class="hash-link" href="#imports" title="Direct link to heading">​</a></h3><p>We will be using the following <code>imports</code> for our GA.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">cilib</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">_</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">cilib</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token namespace" style="color:rgb(12, 150, 155)">ga</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">_</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(12, 150, 155)">eu</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token namespace" style="color:rgb(12, 150, 155)">timepit</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token namespace" style="color:rgb(12, 150, 155)">refined</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token namespace" style="color:rgb(12, 150, 155)">auto</span><span class="token namespace punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">_</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-environment">The Problem Environment<a class="hash-link" href="#the-problem-environment" title="Direct link to heading">​</a></h3><p>For our problem we are going to attempt to find the greatest area
produced by a 2 dimensional rectangle. The sides can range from 0.1
to 12.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> bounds </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Interval</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0.1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">12.0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">^</span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> env </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Environment</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    cmp </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Comparison</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">dominance</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Max</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    eval </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain">  Eval</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">unconstrained</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pos </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Feasible</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">foldLeft1_ </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">eval</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-ga-algorithm">The GA Algorithm<a class="hash-link" href="#the-ga-algorithm" title="Direct link to heading">​</a></h3><p>The GA algorithm is the same as the implementation within <code>cilib-ga</code>.</p><p>The reason we are intentionally defining it as opposed to importing it
is so that we can see the inner workings and learn from it.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> ga</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">             p_c</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">             parentSelection</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">             crossover</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">             mutation</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">         </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    collection </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        parents   </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pointR</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">parentSelection</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">collection</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        r         </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pointR</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Dist</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">stdUniform</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_ </span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token plain"> p_c</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        crossed   </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pointR</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">crossover</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">parents</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">point</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">parents</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        mutated   </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pointR</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">mutation</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">crossed</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        evaluated </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> mutated</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">traverseU</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">eval</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">v</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">yield</span><span class="token plain"> evaluated</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Wow. There is a lot going on here.
Let&#x27;s break it down.
First the parameters:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">p_c </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">//is our crossover rate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">parentSelection </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">//is the function we will use to select the parents</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">crossover </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">//is the function that we will use to produce off spring</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">mutation </span><span class="token comment" style="color:rgb(152, 159, 177);font-style:italic">//is the function we will use to mutate the offspring</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All right. Not too bad. By being able to pass functions to a generic
GA method allows us to build a GA specific to our needs. It should
also be noted that all the passable functions yield the same data
type. Now before we move to the actual implementation of the <code>ga</code>
method, I would like to remind you that for comprehensions are
essentially chained <code>flatMaps</code>. This allows us to chain steps
together. So we know that this method will return a function of type</p><p><code>NonEmptyList[Individual[S]] =&gt; Individual[S] =&gt; Step[Double,List[Individual[S]]]</code></p><p>Which in simply means, that we are going to get a function that return
a <code>Step</code> representing a series of computations applied to every
<code>Individual</code> with a collection of <code>Individuals</code>. Okay, so now we know
what we are returning but let&#x27;s see how we get to that by looking at
the &quot;series of computations&quot;.</p><p><code>parents &lt;- Step.pointR(parentSelection(collection))</code></p><p>Here we are selecting our parents from the collection using the
parentSelection function that was passed as a parameter. Lastly, it
will be wrapped in a <code>Step</code>.</p><p><code>r &lt;- Step.pointR(Dist.stdUniform.map(_ &lt; p_c))</code></p><p>Here we are assigning a <code>Boolean</code> wrapped in an <code>Step</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token plain">crossed &lt;-</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  if (r) Step.pointR[Double,List[Individual[S]]](crossover(parents))</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">  else Step.point[Double,List[Individual[S]]](parents)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If r is <code>true</code> we will produce crossovers based on the <code>parents</code> using
the crossover function parameter, else we are going to just leave the
parents as is. How frequently the crossover occurs depends on your
<code>p_c</code>.</p><p><code>mutated &lt;- Step.pointR[Double,List[Individual[S]]](mutation(crossed))</code></p><p>Nothing too complex here. We are simply mutating our <code>crossed</code>
individuals using the mutation function parameter. Also note that
<code>mutated</code> will have a data type very similar tto our return type.</p><p><code>evaluated &lt;- mutated.traverseU(x =&gt; Step.eval((v: Position[Double]) =&gt; v)(x))</code></p><p>Lastly, we are taking every <code>Individual</code> from <code>mutated</code> and wrapping
each one in an evaluation <code>Step</code>. Remember that this is just a step
representing evaluation, not actually evaluating the <code>Individuals</code>
right now.</p><p>Let&#x27;s get to creating the functions we will be passing to our ga method.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="selection-method">Selection Method<a class="hash-link" href="#selection-method" title="Direct link to heading">​</a></h3><p>For our selection method we will be creating a random selection
method. We know that it needs to have the type
<code>NonEmptyList[Individual[S]] =&gt; RVar[List[Individual[S]]]</code>. To make
this even easier to read we can include a custom type, <code>type Ind =
Individual[Unit]</code>, making it <code>NonEmptyList[Ind] =&gt;
RVar[List[Individual[S]]]</code>. Create a function with the name
<code>randomSelection</code> that will randomly select two <code>Inds</code> from an non
empty list.</p><div class="solution"><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">type</span><span class="token plain"> Ind </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Individual</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Unit</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> randomSelection</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">l</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">sample</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">getOrElse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="selection-method-1">Selection Method<a class="hash-link" href="#selection-method-1" title="Direct link to heading">​</a></h3><p>For our selection method we will be creating a random selection
method. We know that it needs to have the type
<code>NonEmptyList[Individual[S]] =&gt; RVar[List[Individual[S]]]</code>. To make
this even easier to read we can include a custom type, <code>type Ind =
Individual[Unit]</code>, making it <code>NonEmptyList[Ind] =&gt;
RVar[List[Individual[S]]]</code>. Create a function with the name
<code>randomSelection</code> that will randomly select two <code>Inds</code> from an non
empty list.</p><div class="solution"><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> randomSelection</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">l</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> NonEmptyList</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">sample</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">2</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> l</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">getOrElse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="crossover-method">Crossover Method<a class="hash-link" href="#crossover-method" title="Direct link to heading">​</a></h3><p>We will be creating a one point crossover method to be used in our GA.
It will need to have the type <code>List[Individual[S]] =&gt;
RVar[List[Individual[S]]]</code> and let&#x27;s call it <code>onePoint</code>. There should
be two <code>Individuals</code>, parents, in the list that will be used to create
two new <code>Individuals</code> from a one point cross over. Else we should
output an error.</p><div class="solution"><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> onePoint</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">xs</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    xs </span><span class="token keyword" style="color:rgb(12, 150, 155)">match</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">case</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(12, 150, 155)">::</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(12, 150, 155)">::</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> point</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Int</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Dist</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">uniformInt</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Interval</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">size </span><span class="token operator" style="color:rgb(12, 150, 155)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">1</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            point</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">take</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">++</span><span class="token plain"> b</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">                b</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">take</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">++</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">traverse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">toNel</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Entity</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> Point</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">boundary</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">getOrElse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">empty</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token keyword" style="color:rgb(12, 150, 155)">case</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> sys</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;Incorrect number of parents&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mutation-method">Mutation Method<a class="hash-link" href="#mutation-method" title="Direct link to heading">​</a></h3><p>Our mutation method will be relatively simply. For every <code>Individual</code>
we want to mutate its position where each point in the position is
mutated based on a <code>Boolean</code>. If It is true, mutate the point by
multiplying by a random number from a gaussian distribution. Else
leave it as it is. This deciding <code>Boolean</code> is determined the same way
r is in our <code>ga</code> method. Except, that is compared with a double
parameter, <code>p_m</code>, representing the mutation rate. So you might need
groups of parameters. Call this method <code>mutation</code> and be aware of
it&#x27;s return type. Also some helpful hints are to think about using
<code>Lenses</code> and the <code>ModifyF</code> function, as well as <code>traverse</code> for
sequencing through points ot a list.</p><div class="solution"><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">def</span><span class="token plain"> mutation</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p_m</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">xs</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">List</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    xs</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">traverse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        Lenses</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">_position</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">modifyF</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">p</span><span class="token operator" style="color:rgb(12, 150, 155)">:</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token builtin" style="color:rgb(72, 118, 214)">Double</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">traverse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">z </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            za </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> Dist</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">stdUniform</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_ </span><span class="token operator" style="color:rgb(12, 150, 155)">&lt;</span><span class="token plain"> p_m</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">            zb </span><span class="token keyword" style="color:rgb(12, 150, 155)">&lt;-</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">za</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> Dist</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">stdNormal</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">flatMap</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">Dist</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">gaussian</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">0</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_ </span><span class="token operator" style="color:rgb(12, 150, 155)">*</span><span class="token plain"> z</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">else</span><span class="token plain"> RVar</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">point</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">z</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">yield</span><span class="token plain"> zb</span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(153, 76, 195)">}</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="my-ga">My GA<a class="hash-link" href="#my-ga" title="Direct link to heading">​</a></h3><p>Now that we have defined all those methods we should be able to
construct our GA with the following line of code:</p><p><code>val myGA = ga(0.7, randomSelection, onePoint, mutation(0.2))</code></p><p>Great! Remember that what we have here is still just a function. One
that takes a collection of <code>Individuals</code> and returns a <code>Step</code>.</p><p><code>NonEmptyList[Ind] =&gt; Ind =&gt; Step[Double,List[Ind]]</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-collection">Creating a Collection<a class="hash-link" href="#creating-a-collection" title="Direct link to heading">​</a></h3><p>We have the <code>myGA</code> function, but not the collection. So let&#x27;s go ahead and
create that. Keep in mind that we are dealing with <code>Individuals</code></p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> swarm </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">createCollection</span><span class="token punctuation" style="color:rgb(153, 76, 195)">[</span><span class="token plain">Ind</span><span class="token punctuation" style="color:rgb(153, 76, 195)">]</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Entity</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">bounds</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(170, 9, 130)">20</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-iterator">Creating an Iterator<a class="hash-link" href="#creating-an-iterator" title="Direct link to heading">​</a></h3><p>Here is where things get a little more interesting. Remember the
<code>Iteration</code> section earlier in this chapter? Here is where we dive
into that. I&#x27;ll first present the code and then we can go over it.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#403f53;--prism-background-color:#FBFBFB"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#403f53"><span class="token keyword" style="color:rgb(12, 150, 155)">val</span><span class="token plain"> iterator </span><span class="token operator" style="color:rgb(12, 150, 155)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">    Iteration</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">sync</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">myGA</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">suml</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">flatMapK</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">r </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Step</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">withCompare</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">o </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">        r</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">sortWith</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(12, 150, 155)">=&gt;</span><span class="token plain"> Comparison</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">fittest</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">,</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">pos</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">apply</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#403f53"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">take</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token number" style="color:rgb(170, 9, 130)">20</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">toNel</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">getOrElse</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token plain">sys</span><span class="token punctuation" style="color:rgb(153, 76, 195)">.</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(153, 76, 195)">(</span><span class="token string" style="color:rgb(72, 118, 214)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><span class="token punctuation" style="color:rgb(153, 76, 195)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code creates a synchronous iterator based on our ga that at each
generation select the best 20 based on our comparison dominance.
<code>Iteration.sync(myGA).map(_.suml)</code> allows us to work with a
<code>List[Ind]</code>. <code>r</code> is an <code>Ind</code> which becomes a <code>Step</code> with a
comparison.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-our-ga">Running our GA<a class="hash-link" href="#running-our-ga" title="Direct link to heading">​</a></h3><p>Lastly, running our program requires a <code>Runner</code>.</p><p><code>println(Runner.repeat(1000, iterator, swarm).run(env).eval(RNG.init(12L)).toString)</code></p><p>This line of code will produce the results of our ga after 1000
iterations as a string.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h2><p>Well done!
We have successfully implemented a genetic algorithm using CILib.
Whats great is that the code is easy to reuse.
I encourage you to modify the code and really make it your own.
If, for whatever reason, you got stuck during the example here is the <!-- -->[link][ga-example-link]<!-- --> to where the example was based off.
And for more example of CILib implementations you can view the example package <!-- -->[here][example-package]<!-- -->.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-runner" class="table-of-contents__link toc-highlight">What is Runner?</a><ul><li><a href="#iteration" class="table-of-contents__link toc-highlight">Iteration</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></li><li><a href="#creating-a-ga" class="table-of-contents__link toc-highlight">Creating a GA</a><ul><li><a href="#imports" class="table-of-contents__link toc-highlight">Imports</a></li><li><a href="#the-problem-environment" class="table-of-contents__link toc-highlight">The Problem Environment</a></li><li><a href="#the-ga-algorithm" class="table-of-contents__link toc-highlight">The GA Algorithm</a></li><li><a href="#selection-method" class="table-of-contents__link toc-highlight">Selection Method</a></li><li><a href="#selection-method-1" class="table-of-contents__link toc-highlight">Selection Method</a></li><li><a href="#crossover-method" class="table-of-contents__link toc-highlight">Crossover Method</a></li><li><a href="#mutation-method" class="table-of-contents__link toc-highlight">Mutation Method</a></li><li><a href="#my-ga" class="table-of-contents__link toc-highlight">My GA</a></li><li><a href="#creating-a-collection" class="table-of-contents__link toc-highlight">Creating a Collection</a></li><li><a href="#creating-an-iterator" class="table-of-contents__link toc-highlight">Creating an Iterator</a></li><li><a href="#running-our-ga" class="table-of-contents__link toc-highlight">Running our GA</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/getting-started">Docs</a></li><li class="footer__item"><a href="https://www.google.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/cirg-up/cilib" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter.im / Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 CIlib authors</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1cd4c9a2.js"></script>
<script src="/assets/js/main.7e0ab418.js"></script>
</body>
</html>