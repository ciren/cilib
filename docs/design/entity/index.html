<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">entity</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="CIlib · Predictable and Pure Evolutionary and Swarm Intelligence"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="# Entity"><meta data-react-helmet="true" property="og:description" content="# Entity"><meta data-react-helmet="true" property="og:url" content="https://cilib.net/docs/design/entity">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.d6b4e330.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo"><strong>CIlib</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction/getting-started">Docs</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/ciren/cilib">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo"><strong>CIlib</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/ciren/cilib">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">entity</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="entity"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#entity" title="Direct link to heading">#</a>Entity</h1><p>Within swarm intelligence, evolutionary computation and other, similar
algorithms, there is always a metaphor that the algorithm is based on.
Using this metaphor, the participants within the algorithm are also
appropriately named. For example, within a Particle Swarm Optimization (PSO),
the participants are referred to as Particles, with Individuals being
used in both Differential Evolution (DE) and Genetic Algorithms (GA).
Many other examples can easily be identified in available literature.</p><p>It is not practical to have several representations for a very similar
concept used within these algorithms. Based on experimentation within CIlib,
a common structure was identified that could be used to represent the
participants for these metaphor-based population based algorithms. We
refer, collectively, to these algorithm participants as <code>Entity</code> instances.</p><p>An <code>Entity</code> is a simple structure that contains and manages two very
specific things:</p><ul><li>A <code>Position[A]</code> within the current search space of the problem</li><li>A &quot;state&quot; that contains all addition data required by the <code>Entity</code>
which is not managed by the <code>Position[A]</code>.</li></ul><p>The resulting <code>Entity</code> is therefore represented by the following
parameterized data type:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-undefined codeBlock_1wn8" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">final case class Entity[S,A](state: S, pos: Position[A])</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>where <code>S</code> is the type of the state that the <code>Entity</code> maintains,
and <code>A</code> is the type of the dimension element within a <code>Position[A]</code>.</p><p>The state value differs between <code>Entity</code> instances. A Particle requires
a velocity vector and a previous best position vector, whilst an Individual,
requires no additional data other that a <code>Position</code>.</p><p>Because the value of <code>S</code> within the <code>Entity</code> can be anything, it is
not possible to have predefined functions that allow extraction of data
the <code>S</code> parameter type. In order to enable this, optics are applied to
the instances.</p><p>Within the definitions of CIlib, an Individual is nothing more than an
<code>Entity[Unit,A]</code> for some type <code>A</code>. As the type states, there is no
state value for the <code>Entity</code>, and it is defined to be <code>Unit</code> - a type that
exists with a single value (expressed as <code>()</code>), which is uninteresting.</p><p>Some functions use <code>Entity</code> instances, but
constrain the usage based on the shape of the <code>S</code> type parameter within the
<code>Entity[S,A]</code>. As mentioned within the discussion of
<a href="">lenses and optics</a>, a typeclass <code>HasMemory</code> is defined to allow a state
to contain information about some kind of memory for an <code>Entity</code>. A data
structure that provides this memory for a Particle is <code>Mem[A]</code>, and is simply
the case class:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-undefined codeBlock_1wn8" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">case class Mem[A](b: Position[A], v: Position[A])</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>There already exists an instance of <code>HasMemory</code> defined for the <code>Mem</code>
data structure. Let&#x27;s have a look at some usage:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-scala codeBlock_1wn8" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Lets create a function that expects the provided Entity to have</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// a memory within it&#x27;s state parameter</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token builtin" style="color:rgb(130, 170, 255)">Double</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">implicit</span><span class="token plain"> mem</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> HasMemory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token builtin" style="color:rgb(130, 170, 255)">Double</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  mem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">_memory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Now, lets create some Entity instances</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">val</span><span class="token plain"> interval </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">5.12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">5.12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// interval: scalaz.NonEmptyList[Interval[Double]] = NonEmpty[[-5.12, 5.12],[-5.12, 5.12],[-5.12, 5.12]]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">val</span><span class="token plain"> individual </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">createPosition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p </span><span class="token keyword" style="font-style:italic">=&gt;</span><span class="token plain"> Entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// individual: RVar[Entity[Unit, Double]] = cilib.RVar$$anon$4@69ea3848</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">val</span><span class="token plain"> particle </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Position</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">createPosition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p </span><span class="token keyword" style="font-style:italic">=&gt;</span><span class="token plain"> Entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Mem</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">zeroed</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// particle: RVar[Entity[Mem[Double], Double]] = cilib.RVar$$anon$4@5bd969cf</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>Take note of the value held by the state parameter
in the resulting entity instances above.
We would need to run the <code>RVar</code> computation to get the individual and particle
values, or we can simply <code>map</code> the function <code>foo</code> into the <code>RVar</code>, changing
the result of the computation to a <code>RVar</code> which when executed will return the memory
of the <code>Entity</code>.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-scala codeBlock_1wn8" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">particle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p </span><span class="token keyword" style="font-style:italic">=&gt;</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">p</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// This works as expected: particles have a memory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// res0: RVar[Position[Double]] = cilib.RVar$$anon$4@31aada5a</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>Because <code>individual</code> does not have a memory defined, the following will fail.
This failure is not only expected but required to ensure that incorrect usages
are disallowed as soon as possible.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-scala codeBlock_1wn8" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">individual</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i </span><span class="token keyword" style="font-style:italic">=&gt;</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// error: A HasMemory instance cannot be found for the provided state type Unit</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// individual.map(i =&gt; foo(i))</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//                     ^^^^^^</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></pre><p>There are several optics predefined that allow for the zooming in of values in
the <code>Position</code> as well as the state of an <code>Entity</code>. Of course a user could define
their own optics, and it is recommended when custom state types are used,
in order to work with the <code>Entity</code> data.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/getting-started">Docs</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4></div><div class="col footer__col"><h4 class="footer__title">Social</h4></div></div><div class="text--center">Copyright © 2020 CIlib authors</div></div></footer>
</div>

<script src="/styles.8c689d80.js"></script>

<script src="/runtime~main.6f8e30cb.js"></script>

<script src="/main.67e2120c.js"></script>

<script src="/1.36fed2c7.js"></script>

<script src="/2.ea9d8516.js"></script>

<script src="/1be78505.95ac2644.js"></script>

<script src="/20ac7829.fefa18a6.js"></script>

<script src="/17896441.cfe035ae.js"></script>

<script src="/c2fcacf2.bea5a65d.js"></script>


</body>
</html>